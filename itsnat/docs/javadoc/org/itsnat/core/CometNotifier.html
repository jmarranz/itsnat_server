<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="es">
<head>
<!-- Generated by javadoc (version 1.7.0_15) on Wed Jul 24 21:59:48 CEST 2013 -->
<title>CometNotifier (ItsNat v1.3, doc. version v1.0)</title>
<meta name="date" content="2013-07-24">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="CometNotifier (ItsNat v1.3, doc. version v1.0)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CometNotifier.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/itsnat/core/ClientErrorMode.html" title="class in org.itsnat.core"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/itsnat/core/CommMode.html" title="class in org.itsnat.core"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/itsnat/core/CometNotifier.html" target="_top">Frames</a></li>
<li><a href="CometNotifier.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.itsnat.core</div>
<h2 title="Interface CometNotifier" class="title">Interface CometNotifier</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Superinterfaces:</dt>
<dd><a href="../../../org/itsnat/core/ItsNatUserData.html" title="interface in org.itsnat.core">ItsNatUserData</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="strong">CometNotifier</span>
extends <a href="../../../org/itsnat/core/ItsNatUserData.html" title="interface in org.itsnat.core">ItsNatUserData</a></pre>
<div class="block">Is used to implement the <i>COMET</i> or <i>server push</i> technique to notify
 the client to be updated usually when the document is changed.

 <p>The ItsNat COMET approach is based on AJAX or SCRIPT, the client is ever waiting for an
 asynchronous event to return. When new code must be sent to the client
 this event returns and updates the client and automatically a new asynchronous
 request is sent to the server waiting to new asynchronous server changes
 (technique sometimes called as
 <a href="http://weblogs.java.net/blog/jfarcand/archive/2007/05/new_adventures.html">"long polling"</a>).
 </p>

 <p>Use COMET if you have to monitor by web a never ending server process.</p>

 <p>Current implementation does not need a special server but it locks a thread per client
 (and a HTTP connection per client). This thread is stalled most of the time,
 the scalability issue is more related to the maximun number of threads
 the system can manage.</p></div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Jose Maria Arranz Santamaria</dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../../../org/itsnat/core/ClientDocument.html#createCometNotifier()"><code>ClientDocument.createCometNotifier()</code></a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/itsnat/core/CometNotifier.html#addEventListener(org.w3c.dom.events.EventListener)">addEventListener</a></strong>(org.w3c.dom.events.EventListener&nbsp;listener)</code>
<div class="block">Adds an event listener to this Comet notifier.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../org/itsnat/core/ClientDocument.html" title="interface in org.itsnat.core">ClientDocument</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/itsnat/core/CometNotifier.html#getClientDocument()">getClientDocument</a></strong>()</code>
<div class="block">Returns the parent client document this object belongs to.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../org/itsnat/core/CometNotifier.html#getEventTimeout()">getEventTimeout</a></strong>()</code>
<div class="block">Returns the default timeout in client of COMET AJAX/SCRIPT events.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../org/itsnat/core/CometNotifier.html#getExpirationDelay()">getExpirationDelay</a></strong>()</code>
<div class="block">Returns the maximum expiration delay.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../org/itsnat/core/ItsNatDocument.html" title="interface in org.itsnat.core">ItsNatDocument</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/itsnat/core/CometNotifier.html#getItsNatDocument()">getItsNatDocument</a></strong>()</code>
<div class="block">Returns the asociated document.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../org/itsnat/core/CometNotifier.html#isStopped()">isStopped</a></strong>()</code>
<div class="block">Informs whether this notifier is stopped.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/itsnat/core/CometNotifier.html#notifyClient()">notifyClient</a></strong>()</code>
<div class="block">Notifies the client thread to send pending document modifications.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/itsnat/core/CometNotifier.html#removeEventListener(org.w3c.dom.events.EventListener)">removeEventListener</a></strong>(org.w3c.dom.events.EventListener&nbsp;listener)</code>
<div class="block">Removes the specified event listener from this Comet notifier.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/itsnat/core/CometNotifier.html#setExpirationDelay(long)">setExpirationDelay</a></strong>(long&nbsp;expirationDelay)</code>
<div class="block">Sets the maximum expiration delay.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/itsnat/core/CometNotifier.html#stop()">stop</a></strong>()</code>
<div class="block">Stops and disposes this notifier.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.itsnat.core.ItsNatUserData">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.itsnat.core.<a href="../../../org/itsnat/core/ItsNatUserData.html" title="interface in org.itsnat.core">ItsNatUserData</a></h3>
<code><a href="../../../org/itsnat/core/ItsNatUserData.html#containsUserValueName(java.lang.String)">containsUserValueName</a>, <a href="../../../org/itsnat/core/ItsNatUserData.html#getUserValue(java.lang.String)">getUserValue</a>, <a href="../../../org/itsnat/core/ItsNatUserData.html#getUserValueNames()">getUserValueNames</a>, <a href="../../../org/itsnat/core/ItsNatUserData.html#removeUserValue(java.lang.String)">removeUserValue</a>, <a href="../../../org/itsnat/core/ItsNatUserData.html#setUserValue(java.lang.String, java.lang.Object)">setUserValue</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getClientDocument()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getClientDocument</h4>
<pre><a href="../../../org/itsnat/core/ClientDocument.html" title="interface in org.itsnat.core">ClientDocument</a>&nbsp;getClientDocument()</pre>
<div class="block">Returns the parent client document this object belongs to.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the parent client document.</dd></dl>
</li>
</ul>
<a name="getItsNatDocument()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getItsNatDocument</h4>
<pre><a href="../../../org/itsnat/core/ItsNatDocument.html" title="interface in org.itsnat.core">ItsNatDocument</a>&nbsp;getItsNatDocument()</pre>
<div class="block">Returns the asociated document.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the document object this Comet notifier is bound to.</dd></dl>
</li>
</ul>
<a name="notifyClient()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>notifyClient</h4>
<pre>void&nbsp;notifyClient()</pre>
<div class="block">Notifies the client thread to send pending document modifications.

 <p>This method may be called by a non-servlet based thread, and no
 synchronization of the <a href="../../../org/itsnat/core/ItsNatDocument.html" title="interface in org.itsnat.core"><code>ItsNatDocument</code></a> is necessary.</p>

 <p>The client thread is woke up to send document modifications to the client and
 a new web request is sent to the document again to wait a new notification.</p></div>
</li>
</ul>
<a name="stop()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stop</h4>
<pre>void&nbsp;stop()</pre>
<div class="block">Stops and disposes this notifier. The stalled client thread is woke up
 to send any pending modification and no new request is sent.

 <p>A stopped Comet notifier is invalid and cannot be reused.</p></div>
</li>
</ul>
<a name="isStopped()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isStopped</h4>
<pre>boolean&nbsp;isStopped()</pre>
<div class="block">Informs whether this notifier is stopped. A Comet notifier is stopped if it was
 explicitly stopped calling <a href="../../../org/itsnat/core/CometNotifier.html#stop()"><code>stop()</code></a> or the associated document was destroyed.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>true if this notifier is stopped.</dd></dl>
</li>
</ul>
<a name="getExpirationDelay()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getExpirationDelay</h4>
<pre>long&nbsp;getExpirationDelay()</pre>
<div class="block">Returns the maximum expiration delay. This is the maximum time a stalled client thread
 will wait to receive a notification, if this limit is reached this notifier is automatically
 stopped.

 <p>This limit is defined to avoid an unlimited wait because the notifier process has ended and the notifier
 was not explicitly stopped.</p></div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the maximum expiration delay in milliseconds. By default is 1 hour.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../org/itsnat/core/CometNotifier.html#setExpirationDelay(long)"><code>setExpirationDelay(long)</code></a></dd></dl>
</li>
</ul>
<a name="setExpirationDelay(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setExpirationDelay</h4>
<pre>void&nbsp;setExpirationDelay(long&nbsp;expirationDelay)</pre>
<div class="block">Sets the maximum expiration delay.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>expirationDelay</code> - the maximum expiration delay in milliseconds.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../org/itsnat/core/CometNotifier.html#getExpirationDelay()"><code>getExpirationDelay()</code></a></dd></dl>
</li>
</ul>
<a name="getEventTimeout()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEventTimeout</h4>
<pre>long&nbsp;getEventTimeout()</pre>
<div class="block">Returns the default timeout in client of COMET AJAX/SCRIPT events.

 <p>This is the maximum time a stalled COMET request will wait to receive
 a notification, if this limit is reached the last request is aborted
 stopping the COMET process. If a timeout is defined this value should be greater than <a href="../../../org/itsnat/core/CometNotifier.html#getExpirationDelay()"><code>getExpirationDelay()</code></a>.</p>

 <p>COMET events are ever asynchronous.</p></div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the timeout of COMET events in milliseconds.</dd></dl>
</li>
</ul>
<a name="addEventListener(org.w3c.dom.events.EventListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addEventListener</h4>
<pre>void&nbsp;addEventListener(org.w3c.dom.events.EventListener&nbsp;listener)</pre>
<div class="block">Adds an event listener to this Comet notifier. This listener is called when the client
 is going to be notified.

 <p>This method is not synchronized and must be called from a web request thread
 (in this context this method is thread safe because the ItsNat document is automatically synchronized).
 </p>

 <p>Event listeners are dispatched using a web request thread, therefore the ItsNat document
 object is already synchronized and Java code can be the same as a normal event processing.
 </p>

 <p>The event object used when dispatching the listener is a not a "real" DOM client event and most
 of methods have no meaning.
 </p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>listener</code> - the listener to add.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../org/itsnat/core/CometNotifier.html#removeEventListener(org.w3c.dom.events.EventListener)"><code>removeEventListener(EventListener)</code></a></dd></dl>
</li>
</ul>
<a name="removeEventListener(org.w3c.dom.events.EventListener)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>removeEventListener</h4>
<pre>void&nbsp;removeEventListener(org.w3c.dom.events.EventListener&nbsp;listener)</pre>
<div class="block">Removes the specified event listener from this Comet notifier.

 <p>This method is not synchronized and must be called from a web request thread
 (in this context this method is thread safe because the ItsNat document is automatically synchronized).
 </p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>listener</code> - the listener to remove.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../org/itsnat/core/CometNotifier.html#addEventListener(org.w3c.dom.events.EventListener)"><code>addEventListener(EventListener)</code></a></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CometNotifier.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/itsnat/core/ClientErrorMode.html" title="class in org.itsnat.core"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/itsnat/core/CommMode.html" title="class in org.itsnat.core"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/itsnat/core/CometNotifier.html" target="_top">Frames</a></li>
<li><a href="CometNotifier.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>
                
                Copyright © 2007 Innowhere Software Services S.L. All Rights Reserved.
                
            </small></p>
</body>
</html>
